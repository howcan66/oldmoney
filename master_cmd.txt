---
- 
    â†’ cmd.txt (this file - command reference)
    â†’ Contains: Header, Input card, Result card, Language support, Calculations
    â†’ Favicon and branding image
    â†’ lgh_profitcal__instr.txt (original spec)
    â†’ lgh_profitcal_changes.txt (feature tracker)
    â†’ Main calculator page (all HTML/CSS/JavaScript in one file)
    â†’ Password dialog for KÃ–P section access
    â†’ Project documentation
    â†’ Secret admin page (link in header)
    â†’ Separate file, opens in popup window
    â†’ Size: ~1670 lines
    â†’ stepbystep_test.txt (test plan)
    â†’ web_application_launch_improvements.txt (improvement guide)
   â†’ Update setLanguage() function if needed
  - Add comments for complex logic
   AI will: Create password dialog â†’ Add state management â†’ Publish
   AI will: Find code â†’ Analyze issue â†’ Fix â†’ Test â†’ Publish
   AI will: Find CSS â†’ Modify style â†’ Test â†’ Publish
   AI will: Find inputs â†’ Add calculation â†’ Add output display â†’ Publish
   AI will: Find location â†’ Add HTML â†’ Add JavaScript calculation â†’ Publish
   AI will: Find section â†’ Add state management â†’ Add toggle button â†’ Publish
   AI will: Search â†’ Replace text â†’ Publish
  - Change translations without updating both SV and EN
  - Check for console errors
  - Commit broken code
  - Forget to update labels for new fields
   git add index.html
   git commit -m "Descriptive message"
   git push
  - Hardcode values (use localStorage when appropriate)
  - Keep CSS organized in one place
  - Keep related changes in one commit
  - Mix unrelated changes in one commit
  - Push without testing
  - Remove features without asking
   replace_string_in_file to add new field + calculation â†’ publish
  - Test before pushing
  - Test on mobile view
  - Use meaningful variable/ID names
   User says: "Add a row after [field name] with label [text] and calculation [formula]"
   User says: "Add calculation: [description] = [formula]"
   User says: "Add password to [section] with username [X] and password [Y]"
   User says: "Change [old label] to [new label]"
   User says: "Hide [section name] by default" or "Add toggle for [section]"
   User says: "Make [element] [bigger/smaller/different color]"
   User says: "The [feature] is not working correctly because [description]"
   with calculation = Slutlikvid - Skatt PA"
  - Write descriptive commit messages
  "Add a new row after 'Slutlikvid (kr)' called 'Finans Netto (kr)' 
  "Change something"
  "Fix the thing"
  "Make it better"
  "PA the toggle button for AllmÃ¤nt section - is it working correctly?"
  *.txt files
  [input field values]  â†’ Auto-saved when user types
  ~1000      Language switching
  ~1200      Print/Email functionality
  ~1350      Sales Objects toggle
  ~1400      KÃ–P section management
  ~1500      AllmÃ¤nt section management
  ~1600      Event listeners for buttons
  ~620       Translation strings (Swedish/English)
  ~800       Calculation functions
  ~830       Main calculate() function
  1. Add button in HTML header with unique ID
  1. Add key-value pair to both translations.sv and translations.en
  1. Find location in HTML (use grep to search)
  1. Find the calculation in JavaScript
  1. Search for current text: grep_search with old text
  100-200    More CSS (cards, inputs, buttons)
  1-50       Meta tags, CSS imports, styling
  2. Add element with id="label-[key]" in HTML
  2. Add event listener in JavaScript
  2. Identify inputs and formula
  2. Identify the structure (look at surrounding rows)
  2. Note the line numbers and context
  200-300    More CSS (responsive, media queries)
  3. Copy similar row and modify
  3. Link to corresponding state variable
  3. Update formula with new calculation
  3. Update in setLanguage() function if special handling needed
  3. Use replace_string_in_file with 3-5 lines context before/after
  300-500    Header and navigation buttons
  4. Commit and push
  4. Update CSS if needed for styling
  4. Update label IDs and field IDs
  4. Update UI element that displays result
  5. Add calculation in JavaScript if needed
  5. Commit and push
  5. Test with sample values
  500-650    Input card (BerÃ¤kningsdata)
  51-100     CSS styles (dark theme, layout)
  6. Commit and push
  650-700    Result card (Resultat)
  700+       JavaScript begins
  â˜ All changes tested
  â˜ Check console for errors (F12)
  â˜ Check localStorage persistence (refresh page, values remain)
  â˜ Hard refresh browser (Ctrl+F5)
  â˜ Language toggle works
  â˜ No console errors
  â˜ Related features not broken
  â˜ Responsive on mobile
  â˜ Switch language (SV â†” EN)
  â˜ Test on mobile view (Ctrl+Shift+M)
  â˜ Test relevant buttons/fields
  â˜ Verify calculations work
  â†’ AI will implement and publish directly
  â†’ Analyse and present findings
  â†’ Ask AI with specific details
  â†’ Check current changes, staged files, branch status
  â†’ Commit staged changes with message
  â†’ Copy file or folder
  â†’ Describe what you want to happen
  â†’ Do NOT implement without asking
  â†’ If large change: suggest to add it to improvements file
  â†’ If small change: suggest to change directly
  â†’ List all files in directory
  â†’ Mention line numbers if relevant
  â†’ Only use after agreement on approach
  â†’ Proceed with change immediately
  â†’ Publish all staged changes
  â†’ Push commits to GitHub
  â†’ Read file contents in terminal
  â†’ Rename file
  â†’ Roll back to previous version
  â†’ Same as PA but include multiple solution options
  â†’ Show example/reference if possible
  â†’ Show last 10 commits
  â†’ Show what changed in unstaged files
  â†’ Stage all changed files for commit
  â†’ Stage specific file only
  â†’ Test specific feature on current version
  â†’ Undo last commit (keep changes)
  â†’ Use PA command to get analysis before deciding
  â†’ Used for small bugs or obvious corrections
  Ask: Questions about implementation
  Button: EN (top right)
  Button: SV (top right)
  CoolPortals.PNG
  currentObjectIndex    â†’ Which object is currently selected
  Describe: What you want to do
  Email: coolportals@hotmail.com
  Example: "PA the KÃ–P password system" â†’ AI analyzes and reports findings
  Example: git commit -m "Add Finans Netto calculation"
  file:///c:/Git/vinst-p--lgh/index.html
  GitHub Issues: https://github.com/howcan66/vinst-p--lgh/issues
  https://github.com/howcan66/vinst-p--lgh
  https://github.com/howcan66/vinst-p--lgh/commits/main
  https://howcan66.github.io/vinst-p--lgh/
  index.html
  kop_password.html
  Language code: 'en'
  Language code: 'sv'
  localStorage.clear()                    â†’ Clear all data
  localStorage.getItem('objInfoVisible')  â†’ Check current value
  localStorage.removeItem('key')          â†’ Delete value
  localStorage.setItem('key', 'value')    â†’ Set value
  obj1Visible           â†’ Show/hide KÃ–P section
  objInfoVisible        â†’ Show/hide AllmÃ¤nt section
  Provide: Line numbers or search terms if relevant
  README.md
  resultsVisible        â†’ Show/hide Results section
  S13.Passcode.html
  salesObjects          â†’ Array of URLs and prices
  salesPriceVisible     â†’ Show/hide SÃ„LJ section
  translations.en = { ... }
  translations.sv = { ... }
  Use PA: For analysis before making changes
  Use when: After git add, ready to save changes
  Use when: Backup or duplicate files
  Use when: Before committing to see what changed
  Use when: Change file names
  Use when: Clear, small issue that needs fixing now
  Use when: Made mistake in last commit
  Use when: Made mistake or want to try different approach
  Use when: Need to see exact changes before staging
  Use when: Quick preview of .txt files
  Use when: Ready to commit all changes
  Use when: Ready to execute previously discussed changes
  Use when: Ready to make changes live
  Use when: Ready to publish changes to live site
  Use when: See what files exist in repo
  Use when: Want analysis of an issue or feature without automatic changes
  Use when: Want to commit only one file
  Use when: Want to see different approaches before deciding
  Use when: Want to see recent changes history
  Use when: Want to verify something works
- Build / OK / Approve = implement the proposed PA changes
- Build = apply changes/implement
- Build Frames / Build = apply PSD to frame.html
- CMD / cmd = command (show/list/define commands)
- Document cmd = go through conversations and add all short cmds to instruction document
- EX / ex = Execute (implement the proposal)
- Frame Layout / Frame = layout configuration
- Header = top section
- Header: as-is
- HL = horizontal (width %)
- Integration = no changes unless requested
- No changes / no change = analyze only, don't modify
- Open Piano/frame.html
- Open Piano/integration.html
- PA / pa = Please Analyse (analyze & comment only, no changes)
- PA then Build = full workflow (analyze, then implement if approved)
- Piano/frame.html
- Piano/integration.html
- Piano/R1.html
- Piano/R2A.html
- Piano/R2B.html
- Piano/R3.html
- PP / pp = Please Propose (give recommendations/options)
- PSD = Piano Screen Data / show current Piano Screen Data
- R1 = Input Validation panel
- R1: HL 15%, VL 100%
- R2A = Batch Input panel
- R2A: HL 40%, VL 30%
- R2B = Analysis Piano panel
- R2B: HL 45%, VL 30%
- R3 = Piano Groups display
- R3: HL 85%, VL 70%
- Say Build or OK = I implement the PA recommendations
- Say no changes = I skip implementation even after PA
- Say PA [topic] = I analyze and present findings only
- SB / sb = scrollbar (horizontal/vertical)
- Timestamp = date/time display
- Update PSD = replace PSD block above
- VL = vertical (height %)
"; Get-Content "c:\Git\oldmoney\listing.html"; Write-Host "
"; Get-Content "c:\Git\oldmoney\oldmoneylinks.html"; Write-Host "
"; Get-Content "c:\Git\oldmoney\styles.css"
================================================================================
1. ADD A NEW FIELD/ROW
1. Make changes to index.html (or other files)
2. CHANGE A LABEL
2. Test locally (Ctrl+F5, F12, mobile view)
3. Commit changes:
3. HIDE/SHOW SECTION
4. Hard refresh GitHub Pages (Ctrl+F5)
4. PASSWORD PROTECT SECTION
5. FIX BUG
5. Verify changes live at https://howcan66.github.io/vinst-p--lgh/
6. ADD CALCULATION
7. CHANGE STYLING
A: Add to translations.sv and translations.en â†’ Add element with id="label-[key]"
A: git checkout HEAD -- [filename] to restore from last commit
A: git revert [commit-hash] or git reset --hard HEAD~1 (ask AI for help)
A: grep_search for similar field â†’ read_file to see structure â†’ 
A: Open c:\Git\vinst-p--lgh\index.html in browser (double-click or drag to browser)
A: Use ngrok to tunnel localhost to public URL, then open on iPhone
A: Visit https://github.com/howcan66/vinst-p--lgh/commits to see commit history
A: Yes, password dialog works same way locally as on GitHub Pages
ADD NEW ROW/SECTION
ADD TOGGLE/BUTTON
After every change:
âœ— DON'T:
âœ“ DO:
Before committing:
BEST PRACTICES
CHANGE CALCULATION
CHANGE LABEL TEXT
Commands / Short Notes
COMMON LINE NUMBER RANGES IN index.html
COMMON QUESTIONS & ANSWERS
COMMON USER REQUESTS & HOW TO DESCRIBE THEM
Copy-Item "source" "destination"
Ctrl+F5        â†’ Hard refresh browser (clear cache)
Ctrl+L         â†’ Select address bar
Ctrl+Shift+M   â†’ Toggle mobile device view in browser
Ctrl+Shift+Z   â†’ Redo in editor
Ctrl+Z         â†’ Undo in editor
Data saved to browser localStorage:
Date: 2026-02-02
DO = Do it / Implement now
Document Version: 1.0
END OF COMMAND REFERENCE
English (EN)
Example good request:
Example PA request:
Example unclear request:
F12            â†’ Open developer console (check for errors)
FILE LOCATIONS & STRUCTURE
FILE OPERATIONS (Terminal)
Files (current)
FIX = Quick fix / Implement immediately
For AI Assistant:
For updates to this guide, contact: coolportals@hotmail.com
Get-ChildItem -Path "c:\Git\oldmoney" -Force
Get-ChildItem -Path "path" -File
Get-Content "c:\Git\oldmoney\README.md"; Write-Host "
Get-Content "path\file.txt"
GETTING HELP
git add .
git add index.html
GIT COMMANDS (Terminal Operations)
git commit -m "Message"
git diff
git log --oneline -10
git push
git reset HEAD~1
git status
GitHub Commits/History:
GitHub Repository:
HTML Structure (Approximate):
HTML/CSS/JAVASCRIPT EDITING INSTRUCTIONS
If something is unclear:
JavaScript Sections:
Key Files:
KEYBOARD SHORTCUTS IN DEVELOPMENT
LANGUAGE SUPPORT (Bilingual)
Last Updated: 2026-02-02
LGH VINSTKALKYLATOR - COMMAND REFERENCE & INSTRUCTIONS
Live Calculator:
Local Testing:
Maintained by: CoolPortals / AI Assistant
PA = Please Analyse
PA? = Please Analyse and provide options
Piano CMD / Short Commands Log
PSD (Piano Screen Data)
PUBLISH = Commit and push to GitHub
PUBLISHING WORKFLOW
Purpose: Quick reference for commands and instructions between User and AI
Q: Can I test password functionality locally?
Q: How do I add a new field to the calculator?
Q: How do I change a label from Swedish only to bilingual?
Q: How do I see what changed on GitHub?
Q: How do I test on real iPhone?
Q: How do I test the app locally?
Q: How do I undo a change I pushed?
Q: What if I accidentally deleted something?
Questions or issues:
REFERENCE URLS
Rename-Item "oldname" "newname"
Repository Root: c:\Git\vinst-p--lgh\
Search for calculations: grep_search for "const " or "= inputs."
Search for CSS classes: grep_search for "class="
Search for event listeners: grep_search for "addEventListener"
Search for IDs: grep_search for "id="
Search for text: grep_search for exact phrase
Search for translations: grep_search for "labelXxx" or translations object
STATE MANAGEMENT (localStorage)
SUPPORT CONTACT
Swedish (SV) - Default
TEST = Test functionality
Testing
TESTING QUICK CHECKLIST
Time to publish: Usually 1-3 minutes after git push
To add new translatable text:
To test localStorage in browser console:
TODO
Translation strings stored in: translations object (line ~620)
UNDO = Revert last change
USEFUL GREP SEARCH PATTERNS
USER COMMANDS TO AI
Version: 1.0
WORKFLOW
